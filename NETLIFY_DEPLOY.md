# Инструкция по деплою на Netlify

## Шаг 1: Подготовка проекта

Проект уже настроен для деплоя на Netlify. Конфигурация находится в файле `netlify.toml`.

## Шаг 2: Создание сайта на Netlify

1. Зайдите на [Netlify](https://app.netlify.com/)
2. Нажмите "Add new site" → "Import an existing project"
3. Выберите GitHub и авторизуйтесь
4. Выберите репозиторий с проектом
5. Выберите ветку для деплоя (рекомендуется `main` или текущая ветка)

## Шаг 3: Настройка переменных окружения

В настройках сайта на Netlify (Site configuration → Environment variables) добавьте следующие переменные:

### Обязательные переменные Supabase:
- `VITE_SUPABASE_URL` - URL вашего Supabase проекта
- `VITE_SUPABASE_ANON_KEY` - Анонимный ключ Supabase

### Опциональные переменные:
- `VITE_TELEGRAM_BOT_TOKEN` - Токен Telegram бота для уведомлений
- `VITE_TELEGRAM_CHAT_ID` - ID чата Telegram
- `VITE_TELEGRAM_THREAD_ID` - ID треда Telegram (если используется)
- `VITE_GA_MEASUREMENT_ID` - ID Google Analytics (если нужна аналитика)

## Шаг 4: Настройки сборки

Netlify автоматически определит настройки из `netlify.toml`:

```toml
[build]
  command = "npm run build"
  publish = "dist"

[build.environment]
  NODE_VERSION = "18"
```

## Шаг 5: Деплой

После настройки переменных окружения нажмите "Deploy site".

Netlify автоматически:
- Установит зависимости (`npm install`)
- Соберет проект (`npm run build`)
- Опубликует результат из папки `dist`

## Автоматический деплой

После первого деплоя каждый push в выбранную ветку будет автоматически запускать новый деплой.

## Настройка домена

После успешного деплоя вы можете:
1. Использовать бесплатный поддомен `*.netlify.app`
2. Подключить свой домен в разделе "Domain management"

## Важные заметки

- Убедитесь, что все переменные окружения настроены до деплоя
- Проект использует React Router, редиректы настроены в `netlify.toml`
- Безопасность: заголовки безопасности уже настроены в конфигурации
- PWA поддерживается, Service Worker будет работать после деплоя

## Мониторинг

После деплоя проверьте:
- Логи сборки в Netlify Dashboard
- Работу приложения по предоставленному URL
- Корректность работы API запросов к Supabase
- Админ-панель по адресу `/admin` (пароль: zubst2024admin)

## Поддержка

При возникновении проблем проверьте:
1. Логи сборки в Netlify
2. Консоль браузера на наличие ошибок
3. Правильность переменных окружения
4. Доступность Supabase проекта
